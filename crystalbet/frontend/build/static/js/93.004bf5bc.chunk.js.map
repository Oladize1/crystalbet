{"version":3,"file":"static/js/93.004bf5bc.chunk.js","mappings":"6MAOA,MAqFA,EArFkBA,KAChB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,KAC5BK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IACjC,MAAEO,IAAUC,EAAAA,EAAAA,YAAWC,EAAAA,GACvBC,GAAWC,EAAAA,EAAAA,MA+BjB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCC,SAAA,EACnDC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACPD,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sEAAqEC,UACnFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8CAA6CC,SAAA,EAC1DC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sCAAqCC,SAAC,UACnDX,IAASY,EAAAA,EAAAA,KAAA,KAAGE,KAAK,QAAQJ,UAAU,oBAAmBC,SAAEX,IAAW,KACpES,EAAAA,EAAAA,MAAA,QAAMM,SAnCOC,UACnBC,EAAEC,iBACFjB,EAAS,IACTE,GAAW,GAEX,IAEE,MAAMgB,EAAW,IAAIC,gBACrBD,EAASE,OAAO,WAAY1B,GAC5BwB,EAASE,OAAO,WAAYvB,GAG5B,MAAMwB,QAAiBC,EAAAA,EAAAA,IAAUJ,IAG3B,aAAEK,GAAiBF,EAASG,KAClCrB,EAAMoB,GAGNjB,EAAS,IACX,CAAE,MAAOmB,GACPC,QAAQ3B,MAAM0B,GACdzB,EAAS,gEACX,CAAC,QACCE,GAAW,EACb,GAUmCQ,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOgB,QAAQ,QAAQlB,UAAU,sBAAqBC,SAAC,WACvDC,EAAAA,EAAAA,KAAA,SACEiB,KAAK,QACLC,GAAG,QACHC,MAAOpC,EACPqC,SAAWf,GAAMrB,EAASqB,EAAEgB,OAAOF,OACnCrB,UAAU,iCACVwB,UAAQ,QAGZzB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOgB,QAAQ,WAAWlB,UAAU,sBAAqBC,SAAC,cAC1DC,EAAAA,EAAAA,KAAA,SACEiB,KAAK,WACLC,GAAG,WACHC,MAAOjC,EACPkC,SAAWf,GAAMlB,EAAYkB,EAAEgB,OAAOF,OACtCrB,UAAU,iCACVwB,UAAQ,QAGZtB,EAAAA,EAAAA,KAAA,UACEiB,KAAK,SACLnB,UAAW,8DAA6DR,EAAU,gCAAkC,IACpHiC,SAAUjC,EAASS,SAElBT,EAAU,gBAAkB,cAGjCO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,KAAGwB,KAAK,kBAAkB1B,UAAU,gCAA+BC,SAAC,qBAAoB,aAI9FC,EAAAA,EAAAA,KAACyB,EAAAA,EAAM,MACH,C","sources":["pages/LoginPage.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { loginUser } from '../services/api'; // Import the login function from api.js\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false); // New loading state\n  const { login } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  // Handle the form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(''); // Clear previous error\n    setLoading(true); // Start loading\n\n    try {\n      // Prepare the form data in 'application/x-www-form-urlencoded' format\n      const formData = new URLSearchParams();\n      formData.append('username', email); // username field in OAuth2PasswordRequestForm maps to email\n      formData.append('password', password);\n\n      // Call the login API method\n      const response = await loginUser(formData); // Use the imported function\n\n      // On success, call the context login method to store token\n      const { access_token } = response.data; // Adjust if your API returns different structure\n      login(access_token);\n\n      // Redirect the user after successful login\n      navigate('/');\n    } catch (err) {\n      console.error(err);\n      setError('Failed to login. Please check your credentials and try again.');\n    } finally {\n      setLoading(false); // Stop loading\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-accent\">\n      <Header />\n      <main className=\"flex-1 container mx-auto my-16 p-4 flex items-center justify-center\">\n        <div className=\"w-full max-w-md bg-white p-8 rounded shadow\">\n          <h2 className=\"text-2xl font-bold mb-6 text-center\">Login</h2>\n          {error && <p role=\"alert\" className=\"text-red-500 mb-4\">{error}</p>} {/* Added role for accessibility */}\n          <form onSubmit={handleSubmit}>\n            <div className=\"mb-4\">\n              <label htmlFor=\"email\" className=\"block text-gray-700\">Email</label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"mt-1 p-2 border rounded w-full\"\n                required\n              />\n            </div>\n            <div className=\"mb-4\">\n              <label htmlFor=\"password\" className=\"block text-gray-700\">Password</label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"mt-1 p-2 border rounded w-full\"\n                required\n              />\n            </div>\n            <button\n              type=\"submit\"\n              className={`w-full bg-red-600 text-white p-2 rounded hover:bg-red-700 ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\n              disabled={loading} // Disable button while loading\n            >\n              {loading ? 'Logging In...' : 'Login'}\n            </button>\n          </form>\n          <div className=\"mt-4 text-center\">\n            <a href=\"/reset-password\" className=\"text-blue-600 hover:underline\">Forgot Password?</a> {/* Password recovery link */}\n          </div>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"names":["LoginPage","email","setEmail","useState","password","setPassword","error","setError","loading","setLoading","login","useContext","AuthContext","navigate","useNavigate","_jsxs","className","children","_jsx","Header","role","onSubmit","async","e","preventDefault","formData","URLSearchParams","append","response","loginUser","access_token","data","err","console","htmlFor","type","id","value","onChange","target","required","disabled","href","Footer"],"sourceRoot":""}